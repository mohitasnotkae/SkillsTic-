<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>skillsTic – No Draw Tic Tac Toe</title>

<style>
/* ===== GLOBAL ===== */
body{
  margin:0;
  font-family: Arial, sans-serif;
  background: radial-gradient(circle at top,#3b0066,#12001f);
  color:#fff;
}

/* ===== TERMS SCREEN ===== */
#termsScreen{
  position:fixed;
  inset:0;
  background: radial-gradient(circle at top,#2a003f,#12001f);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
.termsBox{
  max-width:420px;
  background:linear-gradient(135deg,#2a003f,#3b0066);
  border:1px solid gold;
  border-radius:16px;
  padding:20px;
}
.termsBox h2{
  margin-top:0;
  color:gold;
  text-align:center;
}
.termsBox ul{
  font-size:14px;
  line-height:1.6;
  padding-left:18px;
}
.termsBox label{
  display:flex;
  align-items:center;
  gap:8px;
  margin-top:10px;
  font-size:14px;
}
.termsBtn{
  width:100%;
  margin-top:15px;
  padding:12px;
  font-size:16px;
  border:none;
  border-radius:20px;
  background:#8e2de2;
  color:#fff;
}

/* ===== CLEAN WALLET HEADER FIX ===== */

.topBar{
  padding:15px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  background: linear-gradient(90deg,#4b0082,#2a003f);
}

.logo{
  font-size:22px;
  font-weight:bold;
}

.walletBox{
  display:flex;
  align-items:center;
  gap:10px;
}

.balance{
  background:#2b0140;
  border:1px solid gold;
  padding:6px 14px;
  border-radius:20px;
  color:gold;
  font-weight:bold;
}

.depositBtn{
  background:#00c853;
  color:black;
  border:none;
  padding:8px 16px;
  border-radius:18px;
  font-weight:bold;
  cursor:pointer;
}

.secondaryActions{
  display:flex;
  justify-content:flex-end;
  gap:12px;
  padding:8px 15px;
}

.withdrawBtn{
  background:transparent;
  border:1px solid #ff5252;
  color:#ff5252;
  padding:6px 14px;
  border-radius:16px;
  cursor:pointer;
}

.logoutBtn{
  background:none;
  border:none;
  color:#ff6b6b;
  font-size:14px;
  cursor:pointer;
}

/* ===== LOBBY ===== */
.container{
  padding:15px;
  margin-top:10px;
}.card{
  border:1px solid #d4af37;
  border-radius:15px;
  padding:15px;
  margin-bottom:15px;
  background: linear-gradient(135deg,#2a003f,#3b0066);
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.card .info{line-height:1.6;}
.joinBtn{
  background:#8e2de2;
  border:none;
  color:white;
  padding:10px 18px;
  border-radius:20px;
  font-size:16px;
}

/* ===== GAME ===== */
#gameScreen{display:none;text-align:center;}

/* ===== HIDE UTILITY ===== */
.hidden{
  display:none !important;
}
.timer{
  font-size:20px;
  margin-top:10px;
  color:#ffcc00;
}
.board{
  display:grid;
  grid-template-columns:repeat(3,90px);
  gap:10px;
  justify-content:center;
  margin-top:20px;
}
.cell{
  width:90px;
  height:90px;
  background:white;
  color:black;
  font-size:40px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:10px;
}
.cell.win{
  background:#00ffcc;
  box-shadow:0 0 15px #00ffcc;
}
.status{
  margin-top:15px;
  font-size:18px;
  white-space:pre-line;
}
.btnRow{
  margin-top:20px;
}
.actionBtn{
  background:#444;
  color:white;
  border:none;
  padding:10px 18px;
  border-radius:20px;
  margin:5px;
}
</style>
</head>

<body>

<!-- ===== TERMS PAGE ===== -->
<div id="termsScreen">
  <div class="termsBox">
    <h2>Terms & Conditions</h2>
    <ul>
      <li>You must be <b>18 years or older</b>.</li>
      <li>This is a <b>skill-based game</b>, not gambling.</li>
      <li>Wallet shown is <b>demo / virtual</b>.</li>
      <li>No refunds for unfinished games.</li>
      <li>Developer decision is final.</li>
    </ul>

    <label>
      <input type="checkbox" id="ageCheck">
      I confirm that I am 18+ years old
    </label>

    <button class="termsBtn" onclick="acceptTerms()">Agree & Continue</button>
  </div>
</div>
<!-- ===== LOGIN / SIGNUP SCREEN ===== -->
<div id="loginScreen" style="
  position:fixed;
  inset:0;
  background: radial-gradient(circle at top,#2a003f,#12001f);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:9998;
">
  <div class="termsBox">
    <h2>Login / Sign Up</h2>

    <div id="mobileStep">
      <input type="tel" id="mobile" placeholder="Enter Mobile Number"
        style="width:100%;padding:12px;border-radius:10px;border:none;">
      <button class="termsBtn" onclick="sendOTP()">Send OTP</button>
    </div>

    <div id="otpStep" style="display:none;">
      <p style="color:#ffcc00;text-align:center;">
        Demo OTP: <b>123456</b>
      </p>
      <input type="number" id="otp" placeholder="Enter OTP"
        style="width:100%;padding:12px;border-radius:10px;border:none;">
      <button class="termsBtn" onclick="verifyOTP()">Verify & Continue</button>
    </div>
  </div>
</div>

<!-- ===== APP ===== -->
<!-- ===== CLEAN HEADER ===== -->
<div class="topBar">
  <div class="logo">skillsTic</div>

  <div class="walletBox">
    <div class="balance">₹ <span id="wallet">0</span></div>
    <button class="depositBtn" onclick="goDeposit()">+ Deposit</button>
  </div>
</div>

<div class="secondaryActions">
  <button class="withdrawBtn" onclick="goWithdraw()">Withdraw</button>
  <button class="logoutBtn" onclick="logout()">Logout</button>
</div>

<div class="container" id="contestList"></div>

<div id="game" class="hidden">
  <h2>Tic Tac Toe</h2>
  <div class="timer">⏱ Time Left: <span id="time">15</span>s</div>
  <div class="board" id="board"></div>
  <div class="status" id="status"></div>

  <div class="btnRow">
    <button class="actionBtn" onclick="restartGame()">Restart</button>
    <button class="actionBtn" onclick="backToLobby()">Back to Lobby</button>
  </div>
</div>

<script>
/* ===== TERMS + LOGIN LOGIC ===== */

function acceptTerms(){
  if(!document.getElementById("ageCheck").checked){
    alert("You must confirm 18+");
    return;
  }
  localStorage.setItem("skillsTic_termsAccepted","yes");
  document.getElementById("termsScreen").style.display="none";
  document.getElementById("loginScreen").style.display="flex";
}

if(localStorage.getItem("skillsTic_termsAccepted")==="yes"){
  document.getElementById("termsScreen").style.display="none";
  if(localStorage.getItem("skillsTic_loggedIn")!=="yes"){
    document.getElementById("loginScreen").style.display="flex";
  }
}

function sendOTP(){
  const m=document.getElementById("mobile").value;
  if(m.length<10){
    alert("Enter valid mobile number");
    return;
  }
  document.getElementById("mobileStep").style.display="none";
  document.getElementById("otpStep").style.display="block";
}

function verifyOTP(){
  if(document.getElementById("otp").value!=="123456"){
    alert("Invalid OTP");
    return;
  }
  localStorage.setItem("skillsTic_loggedIn","yes");
  document.getElementById("loginScreen").style.display="none";
}

</script>

<script src="script.js"></script>

</body>
</html>
